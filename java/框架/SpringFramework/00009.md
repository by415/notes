### Springä¸­ApplicationContextå¯åŠ¨è¿‡ç¨‹è¯¦è§£
---
#### BeanFactoryPostProcessor
-  å«åšBeanFactoryçš„åç½®å¤„ç†å™¨ï¼Œå’ŒBeançš„åç½®å¤„ç†å™¨å¯¹æ¯”ç†è§£ã€‚
    BeanPostProcessoræ˜¯ç”¨æ¥å¯¹Beanè¿›è¡Œå¤„ç†çš„ï¼Œ
    BeanFactoryPostProcessoræ˜¯ç”¨æ¥å¯¹BeanFactoryè¿›è¡Œå¤„ç†çš„
#### å¦‚ä½•ç†è§£refresh()ï¼Ÿ
  ```java
/**
     * Load or refresh the persistent representation of the configuration,
     * which might an XML file, properties file, or relational database schema.
     * <p>As this is a startup method, it should destroy already created singletons
     * if it fails, to avoid dangling resources. In other words, after invocation
     * of that method, either all or no singletons at all should be instantiated.
     * @throws BeansException if the bean factory could not be initialized
     * @throws IllegalStateException if already initialized and multiple refresh
     * attempts are not supported
     */
    void refresh() throws BeansException, IllegalStateException;  
```

-  è¿™æ˜¯ConfigurableApplicationContextæ¥å£ä¸Šrefresh()æ–¹æ³•çš„æ³¨é‡Š.
   æ„æ€æ˜¯ï¼šåŠ è½½æˆ–åˆ·æ–°æŒä¹…åŒ–çš„é…ç½®ï¼Œå¯èƒ½æ˜¯XMLæ–‡ä»¶ã€å±æ€§æ–‡ä»¶æˆ–å…³ç³»æ•°æ®åº“ä¸­å­˜å‚¨çš„ã€‚ç”±äºè¿™æ˜¯ä¸€ä¸ªå¯åŠ¨æ–¹æ³•ï¼Œå¦‚æœå¤±è´¥ï¼Œå®ƒåº”è¯¥é”€æ¯å·²ç»åˆ›å»ºçš„å•ä¾‹ï¼Œä»¥é¿å…æš‚ç”¨èµ„æºã€‚æ¢å¥è¯è¯´ï¼Œåœ¨è°ƒç”¨è¯¥æ–¹æ³•ä¹‹åï¼Œåº”è¯¥å®ä¾‹åŒ–æ‰€æœ‰çš„å•ä¾‹ï¼Œæˆ–è€…æ ¹æœ¬ä¸å®ä¾‹åŒ–å•ä¾‹ ã€‚
   æœ‰ä¸ªç†å¿µéœ€è¦æ³¨æ„ï¼šApplicationContextå…³é—­ä¹‹åä¸ä»£è¡¨JVMä¹Ÿå…³é—­äº†ï¼ŒApplicationContextæ˜¯å±äºJVMçš„ï¼Œè¯´ç™½äº†ApplicationContextä¹Ÿæ˜¯JVMä¸­çš„ä¸€ä¸ªå¯¹è±¡ã€‚

åœ¨Springçš„è®¾è®¡ä¸­ï¼Œä¹Ÿæä¾›å¯ä»¥åˆ·æ–°çš„ApplicationContextå’Œä¸å¯ä»¥åˆ·æ–°çš„ApplicationContextã€‚æ¯”å¦‚ï¼š

```java

AbstractRefreshableApplicationContext extends AbstractApplicationContext

```
  å°±æ˜¯å¯ä»¥åˆ·æ–°çš„ã€‚
  
```java
GenericApplicationContext extends AbstractApplicationContext
```
å°±æ˜¯ä¸å¯ä»¥åˆ·æ–°çš„ã€‚

AnnotationConfigApplicationContextç»§æ‰¿çš„æ˜¯GenericApplicationContextï¼Œæ‰€ä»¥å®ƒæ˜¯ä¸èƒ½åˆ·æ–°çš„ã€‚
AnnotationConfigWebApplicationContextç»§æ‰¿çš„æ˜¯AbstractRefreshableWebApplicationContextï¼Œæ‰€ä»¥å®ƒæ˜¯å¯ä»¥åˆ·çš„ã€‚
ä¸Šé¢è¯´çš„**ä¸èƒ½åˆ·æ–°æ˜¯æŒ‡ä¸èƒ½é‡å¤åˆ·æ–°ï¼Œåªèƒ½è°ƒç”¨ä¸€æ¬¡refreshæ–¹æ³•ï¼Œç¬¬äºŒæ¬¡æ—¶ä¼šæŠ¥é”™**ã€‚

#### refreshåšäº†å“ªäº›äº‹æƒ…ï¼Ÿ

![image-Refresh](../../demo/picture/ApplicationContextRefresh.png)

ä¸‹é¢ä»¥AnnotationConfigApplicationContextä¸ºä¾‹å­ï¼Œæ¥ä»‹ç»refreshçš„åº•å±‚åŸç†:

  1. åœ¨è°ƒç”¨AnnotationConfigApplicationContextçš„æ„é€ æ–¹æ³•ä¹‹å‰ï¼Œä¼šè°ƒç”¨çˆ¶ç±»GenericApplicationContextçš„æ— å‚æ„é€ æ–¹æ³•ï¼Œä¼šæ„é€ ä¸€ä¸ªBeanFactoryï¼Œä¸º**DefaultListableBeanFactory**ã€‚
  2. æ„é€ AnnotatedBeanDefinitionReaderï¼ˆä¸»è¦ä½œç”¨æ·»åŠ ä¸€äº›åŸºç¡€çš„PostProcessorï¼ŒåŒæ—¶å¯ä»¥é€šè¿‡readerè¿›è¡ŒBeanDefinitionçš„æ³¨å†Œï¼‰ï¼ŒåŒæ—¶å¯¹BeanFactoryè¿›è¡Œè®¾ç½®å’Œæ·»åŠ PostProcessorï¼ˆåç½®å¤„ç†å™¨ï¼‰
    a. è®¾ç½®dependencyComparatorï¼šAnnotationAwareOrderComparatorï¼Œå®ƒæ˜¯ä¸€ä¸ªComparatorï¼Œæ˜¯ç”¨æ¥è¿›è¡Œæ’åºçš„ï¼Œä¼šè·å–æŸä¸ªå¯¹è±¡ä¸Šçš„Orderæ³¨è§£æˆ–è€…é€šè¿‡å®ç°Orderedæ¥å£æ‰€å®šä¹‰çš„å€¼è¿›è¡Œæ’åºï¼Œåœ¨æ—¥å¸¸å¼€å‘ä¸­å¯ä»¥åˆ©ç”¨è¿™ä¸ªç±»æ¥è¿›è¡Œæ’åºã€‚
    b. è®¾ç½®autowireCandidateResolverï¼šContextAnnotationAutowireCandidateResolverï¼Œç”¨æ¥è§£ææŸä¸ªBeanèƒ½ä¸èƒ½è¿›è¡Œè‡ªåŠ¨æ³¨å…¥ï¼Œæ¯”å¦‚æŸä¸ªBeançš„autowireCandidateå±æ€§æ˜¯å¦ç­‰äºtrue
    c. å‘BeanFactoryä¸­æ·»åŠ ConfigurationClassPostProcessorå¯¹åº”çš„BeanDefinitionï¼Œå®ƒæ˜¯ä¸€ä¸ªBeanDefinitionRegistryPostProcessorï¼Œå¹¶ä¸”å®ç°äº†PriorityOrderedæ¥å£
    d. å‘BeanFactoryä¸­æ·»åŠ AutowiredAnnotationBeanPostProcessorå¯¹åº”çš„BeanDefinitionï¼Œå®ƒæ˜¯ä¸€ä¸ªInstantiationAwareBeanPostProcessorAdapterï¼ŒMergedBeanDefinitionPostProcessor
    e. å‘BeanFactoryä¸­æ·»åŠ CommonAnnotationBeanPostProcessorå¯¹åº”çš„BeanDefinitionï¼Œå®ƒæ˜¯ä¸€ä¸ªInstantiationAwareBeanPostProcessorï¼ŒInitDestroyAnnotationBeanPostProcessor
    f. å‘BeanFactoryä¸­æ·»åŠ EventListenerMethodProcessorå¯¹åº”çš„BeanDefinitionï¼Œå®ƒæ˜¯ä¸€ä¸ªBeanFactoryPostProcessorï¼ŒSmartInitializingSingleton
    g. å‘BeanFactoryä¸­æ·»åŠ DefaultEventListenerFactoryå¯¹åº”çš„BeanDefinitionï¼Œå®ƒæ˜¯ä¸€ä¸ªEventListenerFactory
  3. æ„é€ ClassPathBeanDefinitionScannerï¼ˆä¸»è¦ä½œç”¨å¯ä»¥ç”¨æ¥æ‰«æå¾—åˆ°å¹¶æ³¨å†ŒBeanDefinitionï¼‰ï¼ŒåŒæ—¶è¿›è¡Œè®¾ç½®ï¼š
    a. è®¾ç½®this.includeFilters = AnnotationTypeFilter(Component.class)
    b. è®¾ç½®environment
    c. è®¾ç½®resourceLoader
  4. åˆ©ç”¨readeræ³¨å†ŒAppConfigä¸ºBeanDefinitionï¼Œç±»å‹ä¸ºAnnotatedGenericBeanDefinition
  5. æ¥ä¸‹æ¥å°±æ˜¯è°ƒç”¨refreshæ–¹æ³•
  6. prepareRefresh()ï¼š
    a. è®°å½•å¯åŠ¨æ—¶é—´
    b. å¯ä»¥å…è®¸å­å®¹å™¨è®¾ç½®ä¸€äº›å†…å®¹åˆ°Environmentä¸­
    c. éªŒè¯Environmentä¸­æ˜¯å¦åŒ…æ‹¬äº†å¿…é¡»è¦æœ‰çš„å±æ€§
  7. obtainFreshBeanFactory()ï¼šè¿›è¡ŒBeanFactoryçš„refreshï¼Œåœ¨è¿™é‡Œä¼šå»è°ƒç”¨å­ç±»çš„refreshBeanFactoryæ–¹æ³•ï¼Œå…·ä½“å­ç±»æ˜¯æ€ä¹ˆåˆ·æ–°çš„å¾—çœ‹å­ç±»ï¼Œç„¶åå†è°ƒç”¨å­ç±»çš„getBeanFactoryæ–¹æ³•ï¼Œé‡æ–°å¾—åˆ°ä¸€ä¸ªBeanFactory
  8. prepareBeanFactory(beanFactory)ï¼š
    a. è®¾ç½®beanFactoryçš„ç±»åŠ è½½å™¨
    b. è®¾ç½®è¡¨è¾¾å¼è§£æå™¨ï¼šStandardBeanExpressionResolverï¼Œç”¨æ¥è§£æSpringä¸­çš„è¡¨è¾¾å¼
    c. æ·»åŠ PropertyEditorRegistrarï¼šResourceEditorRegistrarï¼ŒPropertyEditorç±»å‹è½¬åŒ–å™¨æ³¨å†Œå™¨ï¼Œç”¨æ¥æ³¨å†Œä¸€äº›é»˜è®¤çš„PropertyEditor
    d. æ·»åŠ ä¸€ä¸ªBeançš„åç½®å¤„ç†å™¨ï¼šApplicationContextAwareProcessorï¼Œæ˜¯ä¸€ä¸ªBeanPostProcessorï¼Œç”¨æ¥æ‰§è¡ŒEnvironmentAwareã€ApplicationEventPublisherAwareç­‰å›è°ƒæ–¹æ³•
    e. æ·»åŠ ignoredDependencyInterfaceï¼šå¯ä»¥å‘è¿™ä¸ªå±æ€§ä¸­æ·»åŠ ä¸€äº›æ¥å£ï¼Œå¦‚æœæŸä¸ªç±»å®ç°äº†è¿™ä¸ªæ¥å£ï¼Œå¹¶ä¸”è¿™ä¸ªç±»ä¸­çš„æŸäº›setæ–¹æ³•åœ¨æ¥å£ä¸­ä¹Ÿå­˜åœ¨ï¼Œé‚£ä¹ˆè¿™ä¸ªsetæ–¹æ³•åœ¨è‡ªåŠ¨æ³¨å…¥çš„æ—¶å€™æ˜¯ä¸ä¼šæ‰§è¡Œçš„ï¼Œæ¯”å¦‚EnvironmentAwareè¿™ä¸ªæ¥å£ï¼Œå¦‚æœæŸä¸ªç±»å®ç°äº†è¿™ä¸ªæ¥å£ï¼Œé‚£ä¹ˆå°±å¿…é¡»å®ç°å®ƒçš„setEnvironmentæ–¹æ³•ï¼Œè€Œè¿™æ˜¯ä¸€ä¸ªsetæ–¹æ³•ï¼Œå’ŒSpringä¸­çš„autowireæ˜¯å†²çªçš„ï¼Œé‚£ä¹ˆSpringåœ¨è‡ªåŠ¨æ³¨å…¥æ—¶æ˜¯ä¸ä¼šè°ƒç”¨setEnvironmentæ–¹æ³•çš„ï¼Œè€Œæ˜¯ç­‰åˆ°å›è°ƒAwareæ¥å£æ—¶å†æ¥è°ƒç”¨ï¼ˆæ³¨æ„ï¼Œè¿™ä¸ªåŠŸèƒ½ä»…é™äºxmlçš„autowireï¼Œ@Autowiredæ³¨è§£æ˜¯å¿½ç•¥è¿™ä¸ªå±æ€§çš„ï¼‰
      â…°. EnvironmentAware
      â…±. EmbeddedValueResolverAware
      â…². ResourceLoaderAware
      â…³. ApplicationEventPublisherAware
      â…´. MessageSourceAware
      â…µ. ApplicationContextAware
      â…¶. å¦å¤–å…¶å®åœ¨æ„é€ BeanFactoryçš„æ—¶å€™å°±å·²ç»æå‰æ·»åŠ äº†å¦å¤–ä¸‰ä¸ªï¼š
      â…·. BeanNameAware
      â…¸. BeanClassLoaderAware
      â…¹. BeanFactoryAware
      f. æ·»åŠ resolvableDependenciesï¼šåœ¨byTypeè¿›è¡Œä¾èµ–æ³¨å…¥æ—¶ï¼Œä¼šå…ˆä»è¿™ä¸ªå±æ€§ä¸­æ ¹æ®ç±»å‹æ‰¾bean
        â…°. BeanFactory.classï¼šå½“å‰BeanFactoryå¯¹è±¡
        â…±. ResourceLoader.classï¼šå½“å‰ApplicationContextå¯¹è±¡
        â…². ApplicationEventPublisher.classï¼šå½“å‰ApplicationContextå¯¹è±¡
        â…³. ApplicationContext.classï¼šå½“å‰ApplicationContextå¯¹è±¡
      g. æ·»åŠ ä¸€ä¸ªBeançš„åç½®å¤„ç†å™¨ï¼šApplicationListenerDetectorï¼Œæ˜¯ä¸€ä¸ªBeanPostProcessorï¼Œç”¨æ¥åˆ¤æ–­æŸä¸ªBeanæ˜¯ä¸æ˜¯ApplicationListenerï¼Œå¦‚æœæ˜¯åˆ™æŠŠè¿™ä¸ªBeanæ·»åŠ åˆ°ApplicationContextä¸­å»ï¼Œæ³¨æ„ä¸€ä¸ªApplicationListeneråªèƒ½æ˜¯å•ä¾‹çš„
      h. æ·»åŠ ä¸€ä¸ªBeançš„åç½®å¤„ç†å™¨ï¼šLoadTimeWeaverAwareProcessorï¼Œæ˜¯ä¸€ä¸ªBeanPostProcessorï¼Œç”¨æ¥åˆ¤æ–­æŸä¸ªBeanæ˜¯ä¸æ˜¯å®ç°äº†LoadTimeWeaverAwareæ¥å£ï¼Œå¦‚æœå®ç°äº†åˆ™æŠŠApplicationContextä¸­çš„loadTimeWeaverå›è°ƒsetLoadTimeWeaveræ–¹æ³•è®¾ç½®ç»™è¯¥Beanã€‚
        i. æ·»åŠ ä¸€äº›å•ä¾‹beanåˆ°å•ä¾‹æ± ï¼š
          â…°. "environment"ï¼šEnvironmentå¯¹è±¡
          â…±. "systemProperties"ï¼šSystem.getProperties()è¿”å›çš„Mapå¯¹è±¡
          â…². "systemEnvironment"ï¼šSystem.getenv()è¿”å›çš„Mapå¯¹è±¡
  9. postProcessBeanFactory(beanFactory) ï¼š æä¾›ç»™AbstractApplicationContextçš„å­ç±»è¿›è¡Œæ‰©å±•ï¼Œå…·ä½“çš„å­ç±»ï¼Œå¯ä»¥ç»§ç»­å‘BeanFactoryä¸­å†æ·»åŠ ä¸€äº›ä¸œè¥¿
  10. invokeBeanFactoryPostProcessors(beanFactory)ï¼šæ‰§è¡ŒBeanFactoryPostProcessor
    a. æ­¤æ—¶åœ¨BeanFactoryä¸­ä¼šå­˜åœ¨ä¸€ä¸ªBeanFactoryPostProcessorï¼šConfigurationClassPostProcessorï¼Œå®ƒä¹Ÿæ˜¯ä¸€ä¸ªBeanDefinitionRegistryPostProcessor
    b. ç¬¬ä¸€é˜¶æ®µ
    c. ä»BeanFactoryä¸­æ‰¾åˆ°ç±»å‹ä¸ºBeanDefinitionRegistryPostProcessorçš„beanNameï¼Œä¹Ÿå°±æ˜¯ConfigurationClassPostProcessorï¼Œ ç„¶åè°ƒç”¨BeanFactoryçš„getBeanæ–¹æ³•å¾—åˆ°å®ä¾‹å¯¹è±¡
    d. æ‰§è¡ŒConfigurationClassPostProcessorçš„postProcessBeanDefinitionRegistry()æ–¹æ³•:
      â…°. è§£æAppConfigç±»
      â…±. æ‰«æå¾—åˆ°BeanDefinitionå¹¶æ³¨å†Œ
      â…². è§£æ@Importï¼Œ@Beanç­‰æ³¨è§£å¾—åˆ°BeanDefinitionå¹¶æ³¨å†Œ
      â…³. è¯¦ç»†çš„çœ‹å¦å¤–çš„ç¬”è®°ï¼Œä¸“é—¨åˆ†æäº†ConfigurationClassPostProcessoræ˜¯å¦‚ä½•å·¥ä½œçš„
      â…´. åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åªéœ€è¦çŸ¥é“åœ¨è¿™ä¸€æ­¥ä¼šå»å¾—åˆ°BeanDefinitionï¼Œè€Œè¿™äº›BeanDefinitionä¸­å¯èƒ½å­˜åœ¨BeanFactoryPostProcessorå’ŒBeanDefinitionRegistryPostProcessorï¼Œæ‰€ä»¥æ‰§è¡Œå®ŒConfigurationClassPostProcessorçš„postProcessBeanDefinitionRegistry()æ–¹æ³•åï¼Œè¿˜éœ€è¦ç»§ç»­æ‰§è¡Œå…¶ä»–BeanDefinitionRegistryPostProcessorçš„postProcessBeanDefinitionRegistry()æ–¹æ³•
    e. æ‰§è¡Œå…¶ä»–BeanDefinitionRegistryPostProcessorçš„postProcessBeanDefinitionRegistry()æ–¹æ³•
    f. æ‰§è¡Œæ‰€æœ‰BeanDefinitionRegistryPostProcessorçš„postProcessBeanFactory()æ–¹æ³•
    g. ç¬¬äºŒé˜¶æ®µ
    h. ä»BeanFactoryä¸­æ‰¾åˆ°ç±»å‹ä¸ºBeanFactoryPostProcessorçš„beanNameï¼Œè€Œè¿™äº›BeanFactoryPostProcessoråŒ…æ‹¬äº†ä¸Šé¢çš„BeanDefinitionRegistryPostProcessor
    i. æ‰§è¡Œè¿˜æ²¡æœ‰æ‰§è¡Œè¿‡çš„BeanFactoryPostProcessorçš„postProcessBeanFactory()æ–¹æ³•
  11. åˆ°æ­¤ï¼Œæ‰€æœ‰çš„BeanFactoryPostProcessorçš„é€»è¾‘éƒ½æ‰§è¡Œå®Œäº†ï¼Œä¸»è¦åšçš„äº‹æƒ…å°±æ˜¯å¾—åˆ°BeanDefinitionå¹¶æ³¨å†Œåˆ°BeanFactoryä¸­
  12. registerBeanPostProcessors(beanFactory)ï¼šå› ä¸ºä¸Šé¢çš„æ­¥éª¤å®Œæˆäº†æ‰«æï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ç¨‹åºå‘˜å¯èƒ½è‡ªå·±å®šä¹‰äº†ä¸€äº›BeanPostProcessorï¼Œåœ¨è¿™ä¸€æ­¥å°±ä¼šæŠŠBeanFactoryä¸­æ‰€æœ‰çš„BeanPostProcessoræ‰¾å‡ºæ¥å¹¶å®ä¾‹åŒ–å¾—åˆ°ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶æ·»åŠ åˆ°BeanFactoryä¸­å»ï¼ˆå±æ€§beanPostProcessorsï¼‰ï¼Œæœ€åå†é‡æ–°æ·»åŠ ä¸€ä¸ªApplicationListenerDetectorå¯¹è±¡ï¼ˆä¹‹å‰å…¶å®å°±æ·»åŠ äº†è¿‡ï¼Œè¿™é‡Œæ˜¯ä¸ºäº†æŠŠApplicationListenerDetectorç§»åŠ¨åˆ°æœ€åï¼‰
  13. initMessageSource()ï¼šå¦‚æœBeanFactoryä¸­å­˜åœ¨ä¸€ä¸ªå«åš"messageSource"çš„BeanDefinitionï¼Œé‚£ä¹ˆå°±ä¼šæŠŠè¿™ä¸ªBeanå¯¹è±¡åˆ›å»ºå‡ºæ¥å¹¶èµ‹å€¼ç»™ApplicationContextçš„messageSourceå±æ€§ï¼Œè®©ApplicationContextæ‹¥æœ‰å›½é™…åŒ–çš„åŠŸèƒ½
  14. initApplicationEventMulticaster()ï¼šå¦‚æœBeanFactoryä¸­å­˜åœ¨ä¸€ä¸ªå«åš"applicationEventMulticaster"çš„BeanDefinitionï¼Œé‚£ä¹ˆå°±ä¼šæŠŠè¿™ä¸ªBeanå¯¹è±¡åˆ›å»ºå‡ºæ¥å¹¶èµ‹å€¼ç»™ApplicationContextçš„applicationEventMulticasterå±æ€§ï¼Œè®©ApplicationContextæ‹¥æœ‰äº‹ä»¶å‘å¸ƒçš„åŠŸèƒ½
  15. onRefresh()ï¼šæä¾›ç»™AbstractApplicationContextçš„å­ç±»è¿›è¡Œæ‰©å±•ï¼Œæ²¡ç”¨
  16. registerListeners()ï¼šä»BeanFactoryä¸­è·å–ApplicationListenerç±»å‹çš„beanNameï¼Œç„¶åæ·»åŠ åˆ°ApplicationContextä¸­çš„äº‹ä»¶å¹¿æ’­å™¨applicationEventMulticasterä¸­å»ï¼Œåˆ°è¿™ä¸€æ­¥å› ä¸ºFactoryBeanè¿˜æ²¡æœ‰è°ƒç”¨getObject()æ–¹æ³•ç”ŸæˆBeanå¯¹è±¡ï¼Œæ‰€ä»¥è¿™é‡Œè¦åœ¨æ ¹æ®ç±»å‹æ‰¾ä¸€ä¸‹ApplicationListenerï¼Œè®°å½•ä¸€ä¸‹å¯¹åº”çš„beanName
  17. finishBeanFactoryInitialization(beanFactory)ï¼šå®ŒæˆBeanFactoryçš„åˆå§‹åŒ–ï¼Œä¸»è¦å°±æ˜¯å®ä¾‹åŒ–éæ‡’åŠ è½½çš„å•ä¾‹Beanï¼Œå•ç‹¬çš„ç¬”è®°å»è®²ã€‚
  18. finishRefresh()ï¼šBeanFactoryçš„åˆå§‹åŒ–å®Œåï¼Œå°±åˆ°äº†Springå¯åŠ¨çš„æœ€åä¸€æ­¥äº†
    a. è®¾ç½®ApplicationContextçš„lifecycleProcessorï¼Œé»˜è®¤æƒ…å†µä¸‹è®¾ç½®çš„æ˜¯DefaultLifecycleProcessor
    b. è°ƒç”¨lifecycleProcessorçš„onRefresh()æ–¹æ³•ï¼Œå¦‚æœæ˜¯DefaultLifecycleProcessorï¼Œé‚£ä¹ˆä¼šè·å–æ‰€æœ‰ç±»å‹ä¸ºLifecycleçš„Beanå¯¹è±¡ï¼Œç„¶åè°ƒç”¨å®ƒçš„start()æ–¹æ³•ï¼Œè¿™å°±æ˜¯ApplicationContextçš„ç”Ÿå‘½å‘¨æœŸæ‰©å±•æœºåˆ¶
    c. å‘å¸ƒContextRefreshedEventäº‹ä»¶
    
 
---
*[ğŸ‘ˆ 0000 Javaç›®å½•](../../0000Javaç›®å½•.md)*

*[415 å‡ºå“ï¼Œå¿…å±ç²¾å“](../../../note.md)*